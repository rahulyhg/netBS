{% set __helperJs %}
<script type="text/javascript">
    $(function() {

        $(document).on('mouseenter', "[data-helper]", function() {

            var elem    = $(this),
                id      = elem.attr("data-helper-id"),
                bclass  = elem.attr("data-helper-class"),
                pos     = elem.attr("data-helper-placement");

            $.data(this, "_helper_timer", setTimeout($.proxy(function() {
                $.post("{{ path('netbs.core.helper.get_help') }}", {"class": bclass, id: id}).done(function(response) {

                    $(elem).popover({
                        html: true,
                        placement: pos === null ? "top" : pos
                    });

                    elem.attr("data-original-title", response.title);
                    elem.attr("data-content", response.content);
                    elem.popover("show");
                });
            }, this), 300));

        });

        $(document).on('mouseleave', '[data-helper]', function() {

            clearTimeout($.data(this, "_helper_timer"));
            $(this).popover("hide");
        });
    });
</script>
{% endset %}

{{ registerScript(__helperJs) }}
